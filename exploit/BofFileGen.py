import socket
import time
from colorama import *

LHOST="127.0.0.1"
LPORT=4444

class Exploit:
	config={
	}
	def show_options(self):
		print(Fore.YELLOW+"Options\t\tNecessity\t\tDefault"+Style.RESET_ALL)
		print(Fore.YELLOW+"-------\t\t---------\t\t-------"+Style.RESET_ALL)
		for key in sorted(self.config.keys()):
			print(Fore.YELLOW+"%s\t\t%s\t\t\t%s" % (
				key, self.config[key]["necessity"], self.get_config(key))+Style.RESET_ALL)
	

	@staticmethod
	def show_info():
		print(Fore.YELLOW+"\nOpens Listening Port"+Style.RESET_ALL)

	
	def set_config(self, key, value):
		if key in self.config.keys():
			self.config[key]["default"] = value
		else:
			print("No options")
	
	
	def get_config(self, key):
		return self.config[key]["default"]

	@staticmethod
	def run():
		LHOST=input("LHOST> ")
		LPORT=input("LPORT> ")
		buffer=""

		buffer+="A"*2056
		buffer+="B"*1028

		try:
			sock=socket.socket()
			sock.bind((LHOST, LPORT))
			sock.connect((LHOST, LPORT))

		except:
			print(Fore.RED+"[-]"+Style.RESET_ALL+"Port 4444 is in use")
			exit()

		print(Fore.BLUE+"[+]"+Style.RESET_ALL+" Hosted in 127.0.0.1:5000")
		time.sleep(2.5)

		SaveFile=open("b0ts.txt",'+a')
		SaveFile.write(buffer)
		SaveFile.close()

		sock.close()
		print(Fore.BLUE+"[+]"+Style.RESET_ALL+" Wrote file in b0ts.txt")
